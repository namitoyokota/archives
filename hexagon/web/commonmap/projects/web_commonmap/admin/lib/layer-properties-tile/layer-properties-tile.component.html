<div *ngIf="showConnectionProps">
    <div class="layer-property">
        <hxgn-commonmap-admin-url-control
            [url]="mapLayer.url"
            (isValid)="urlIsValid($event)"
            (urlChanged)="setURL($event)">
        </hxgn-commonmap-admin-url-control>
    </div>
    <div class="layer-property">
        <hxgn-commonmap-admin-local-access-only
            [mapLayer]="mapLayer"
            [isNew]="isNew"
            (changed)="localAccessOnlyChanged($event)">
        </hxgn-commonmap-admin-local-access-only>
    </div>
    <div class="layer-property">
        <hxgn-commonmap-admin-url-subdomains
            [url]="mapLayer.url"
            [subdomains]="mapLayer.subdomains"
            (isValid)="subdomainsIsValid($event)"
            (subdomainsChanged)="subdomainsChanged($event)">
        </hxgn-commonmap-admin-url-subdomains>
    </div>
    <div class="url-params-section">
        <hxgn-commonmap-admin-url-params 
            [mapLayer]="mapLayer"
            [localAccessOnly]="localAccessOnly"
            (isValid)="urlParamsIsValid($event)"
            (urlParamChanged)="urlParamChanged($event)">
        </hxgn-commonmap-admin-url-params>
    </div>
</div>
<div *ngIf="showLayerOptions">
    <div *ngIf="!isNew" class="section-header">
        <hxgn-commonlocalization-translate-v1 
            [token]="tokens.sectionHeaderLayerOptions"
            [skeletonWidth]="'60px'">
        </hxgn-commonlocalization-translate-v1>
    </div>
    <!-- <div class="layer-property">
        <div class="label">
            <hxgn-commonlocalization-translate-v1
                [token]="tokens.coordSystemLabel"
                [skeletonWidth]="'60px'">
            </hxgn-commonlocalization-translate-v1>
        </div>
        <hxgn-common-input-v2 style="width:100%">
            <input type="text" style="width:100%"
                placeholder="{{ transStrings[tokens.coordSystemPlaceholder] }}"
                [value]="layerProps.reference" (change)="setCRS($event)" />
        </hxgn-common-input-v2>
    </div> -->
    <div class="layer-property">
        <div class="layer-option-name ellipsis">
            <hxgn-commonlocalization-translate-v1
                [token]="tokens.optionAttribution"
                [skeletonWidth]="'60px'">
            </hxgn-commonlocalization-translate-v1>
        </div>
        <div class="layer-option-value">
            <hxgn-common-input-v2 style="width:100%">
                <input type="text" (change)="setAttribution($event)"
                placeholder="{{ transStrings[tokens.optionAttributionPlaceholder] }}"
                [(ngModel)]="attribution" />
            </hxgn-common-input-v2>
        </div>
    </div>
    <div class="layer-property">
        <div class="tile-size-section">
            <div class="layer-option-name ellipsis">
                <hxgn-commonlocalization-translate-v1 
                    [token]="tokens.optionTileSize"
                    [skeletonWidth]="'60px'">
                </hxgn-commonlocalization-translate-v1>
            </div>
            <div class="layer-option-name ellipsis">
                <hxgn-commonlocalization-translate-v1
                    [token]="tokens.optionTileLevels"
                    [skeletonWidth]="'60px'">
                </hxgn-commonlocalization-translate-v1>
            </div>
            <div class="layer-option-name ellipsis">
                <hxgn-commonlocalization-translate-v1
                    [token]="tokens.optionZoomOffset"
                    [skeletonWidth]="'60px'">
                </hxgn-commonlocalization-translate-v1>
            </div>
            <div class="layer-option-value">
                <hxgn-common-input-v2 [isValid]="!tileSizeErrorMsg ? null : false">
                    <input type="text"
                        (input)="validateTileSize($event)"
                         placeholder="{{ transStrings[tokens.optionTileSizePlaceholder] }}"
                         [(ngModel)]="tileSize" (change)="setTileSize($event)" />
                </hxgn-common-input-v2> 
            </div>
            <div class="layer-option-value">
                <div class="zoom-input">
                    <hxgn-common-input-v2>
                        <input class="no-edit" type="number" name="tileLevels" [value]="tileLevels"
                            onkeydown="return false" min="0" max="30" step="1"
                            (change)="setTileLevels($event)" />
                    </hxgn-common-input-v2>
                </div>
            </div>
            <div class="layer-option-value">
                <div class="zoom-input">
                    <hxgn-common-input-v2>
                        <input class="no-edit" type="number" name="zoomOffset" [value]="zoomOffset"
                            onkeydown="return false" min="-1" max="0" step="1"
                            (change)="setZoomOffset($event)" />
                    </hxgn-common-input-v2>
                </div>
            </div>

        </div>
        <span class="error-msg tile-size-error" *ngIf="tileSizeErrorMsg">
            <hxgn-commonlocalization-translate-v1 
                [token]="tileSizeErrorMsg"
                [skeletonWidth]="'60px'">
            </hxgn-commonlocalization-translate-v1>
        </span>
    </div>
    <div class="layer-property small-checkbox-font">
        <mat-checkbox [checked]="tms" disableRipple="true"
            (change)="setTMS($event)">
            <hxgn-commonlocalization-translate-v1 
                [token]="tokens.optionTileMapService"
                [skeletonWidth]="'60px'">
            </hxgn-commonlocalization-translate-v1>
        </mat-checkbox>
    </div>
    <div class="layer-property">
        <hxgn-commonmap-admin-auto-refresh
            [autoRefresh]="autoRefresh"
            [autoRefreshInterval]="autoRefreshInterval"
            (autoRefreshChanged)="setAutoRefresh($event)"
            (autoRefreshIntervalChanged)="setAutoRefresh($event)">
        </hxgn-commonmap-admin-auto-refresh>
    </div>
</div>
